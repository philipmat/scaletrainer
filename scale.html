<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<!--script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"></script-->
	<script type="text/javascript" src="lib/knockout-3.2.0.js"></script>
	<script type="text/javascript" src="main.js"></script>
</head>
<body>
	
<div id="scale-display" data-bind="foreach: notes">
	<span class="octave-note"><span class="note" data-bind="text: note">(note)</span><span class="octave" data-bind="text: octave">(8ve)</span></span>
</div>

<script type="text/coffeescript" src="scale.coffee"></script>
<script type="text/coffeescript">
$ = (id) ->
	document.getElementById id

S = window['scale']
console.log S
instrument = getParameterByName 'instrument'
scale = getParameterByName 'mode'
key = getParameterByName 'key'
measures = getParameterByName 'measures'

console.log "i=#{ instrument }, s=#{ scale }, k=#{ key }, ms=#{ measures }"
scale_in_key = S.scale key, scale
console.log scale_in_key
p = S.instrument_scale instrument, scale_in_key
model = 
	notes: S.random_notes p, 4

# p = S.instrument_scale 'Piano (88 keys)', S.scale 'C', 'Major/Ionian'
# notes = S.random_notes p, 4
# html_note = (S.print_note_html n for n in notes).join ' '
# $('scale').innerHTML = html_note
ko.applyBindings model
</script>
<!--script type="text/javascript" src="https://rawgit.com/jashkenas/coffeescript/master/extras/coffee-script.js"></script-->
<script type="text/javascript" src="lib/coffee-script.js"></script>
</body>
</html>
